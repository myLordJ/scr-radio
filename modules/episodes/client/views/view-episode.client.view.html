<section ng-controller="EpisodesController" ng-init="findOne()">
  <div class="bg-revealer">
  </div>

  <div class="item container-fluid">

    <div class="item-top row no-gutter">

      <div class="item-header col-sm-4">
        <div class="item-play">
          <i ng-click="$root.playerPlay(episode.links.mixcloud)" class="fa fa-play fa-3x fa-fw"></i>
        </div>
        <div class="item-info">
          <span class="item-title">{{episode.title}}</span>
          <small>
            <em class="text-muted">
              <span class="item-headline" ng-show="episode.headline">{{episode.headline}}</span>
              <span class="item-headline" ng-hide="episode.headline">A filler headline till you input your own.</span>
            </em>
          </small>
        </div>
      </div>

      <div class="admin-crud" ng-show="authentication.user._id == episode.user._id || authentication.user.roles.indexOf('admin')">
        <a class="btn btn-primary" ui-sref="episodes.edit({episodeId: episode._id})">
          <i class="glyphicon glyphicon-edit"></i>
        </a>
        <a class="btn btn-primary" ng-click="remove();">
          <i class="glyphicon glyphicon-trash"></i>
        </a>
      </div>

    </div>

    <div class="item-bottom row no-gutter">

      <div class="item-left hidden-xs col-sm-4">
        <div class="item-desc">
          <p ng-if="$root.lang == 'kr'">{{episode.description.kr || episode.description.en}}</p>
          <p ng-if="$root.lang == 'en' || !$root.lang">{{episode.description.en}}</p>
        </div>
      </div>

      <!--<div class="item-middle col-xs-12 col-sm-4">-->
        <!--<ul>-->
          <!--<li ng-hide="programs.length">-->
            <!--<small>-->
              <!--{{episode.title}} is part of no program.-->
            <!--</small>-->
          <!--</li>-->
          <!--<li ng-show="programs.length" ng-repeat="item in programs">-->
            <!--<div class="item-play">-->
              <!--<i ng-click="$root.playerPlay(item.links.mixcloud)" class="fa fa-play-circle fa-2x fa-fw"></i>-->
            <!--</div>-->
            <!--<div class="item-info">-->
              <!--<a ui-sref="programs.view({programId: item._id})">{{item.title}}</a>-->
              <!--<small>-->
                <!--<em class="text-muted">-->
                  <!--<span class="item-headline" ng-show="item.headline">{{item.headline}}</span>-->
                  <!--<span class="item-headline" ng-hide="item.headline">A filler headline till you input your own.</span>-->
                <!--</em>-->
              <!--</small>-->
            <!--</div>-->
          <!--</li>-->
        <!--</ul>-->
      <!--</div>-->

      <div class="item-right col-xs-12 col-sm-4" ng-if="residents.length">
        <ul>
          <li ng-repeat="item in residents">
            <div class="item-play">
              <i ng-click="$root.playerPlay(item.links.mixcloud)" class="fa fa-play-circle fa-2x fa-fw"></i>
            </div>
            <div class="item-info">
              <a ui-sref="residents.view({residentId: item._id})">{{item.title}}</a>
              <small>
                <em class="text-muted">
                  <span class="item-headline" ng-show="item.program.title">
                    {{item.program.title}}
                    <a ui-sref="programs.view({programId: item.program._id})">
                      <i class="fa fa-play-circle fa-fw"></i>
                    </a>
                  </span>
                  <span class="item-headline" ng-hide="item.program.title"></span>
                </em>
              </small>
            </div>
          </li>
        </ul>
      </div>
    </div>

  </div>
</section>
